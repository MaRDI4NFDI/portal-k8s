{{- if .Values.maintenance.enabled }}
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: maintenance-headers
spec:
  headers:
    customRequestHeaders:
      X-Maintenance-Mode: "true"
    customResponseHeaders:
      X-Maintenance-Mode: "true"
      Cache-Control: "no-cache, no-store, must-revalidate"
{{- end }}