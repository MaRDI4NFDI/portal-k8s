{{- if .Values.blockIPs.enabled }}
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: {{ .Release.Name }}-ipblock
  namespace: {{ .Release.Namespace }}
spec:
  plugin:
    denyip:
      ipDenyList:
        - "43.173.173.0/24"
        - "43.173.174.0/24"
        - "43.173.175.0/24"
        - "43.173.176.0/24"
        - "43.173.177.0/24"
        - "43.173.178.0/24"
        - "43.173.179.0/24"
        - "43.173.180.0/24"
        - "43.173.181.0/24"
        - "43.173.182.0/24"
{{- end }}